(()=>{"use strict";const e=document.getElementById("settingsForm"),t=document.getElementById("openaiKey"),n=document.getElementById("anthropicKey"),a=document.getElementById("defaultModel"),o=document.getElementById("showOpenAIKey"),c=document.getElementById("showAnthropicKey");function s(e){return new Promise((t=>{chrome.storage.local.set({settings:e},(()=>{t()}))}))}function d(){s({openaiKey:t.value,anthropicKey:n.value,defaultModel:a.value})}chrome.storage.local.get(["settings"],(e=>{const o=e.settings||{};t.value=o.openaiKey||"",n.value=o.anthropicKey||"",a.value=o.defaultModel||"claude-3-5-sonnet-20240620"})),e.addEventListener("submit",(async e=>{e.preventDefault();const o={openaiKey:t.value,anthropicKey:n.value,defaultModel:a.value};await s(o),alert("Settings saved successfully!")}));for(const e of[t,n,a])e.addEventListener("change",d);function l(e,t){e.type=t?"text":"password"}o.addEventListener("change",(()=>{l(t,o.checked)})),c.addEventListener("change",(()=>{l(n,c.checked)}))})();